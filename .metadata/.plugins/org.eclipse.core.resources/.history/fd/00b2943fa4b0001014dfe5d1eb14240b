package com.smhrd.controller;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import com.smhrd.frontcontroller.Command;
import com.smhrd.model.MemberVO;

public class UpdateService implements Command {

    @Override
    public String execute(HttpServletRequest request, HttpServletResponse response) {

        // 1️ 폼에서 전달된 데이터(pw, tel, address) 수집
		String pw = request.getParameter("pw");
		String tel = request.getParameter("tel");
		String address = request.getParameter("address");
        // 2️ 세션에서 로그인한 회원 정보 가져오기 (email 꺼내기)
        HttpSession session = request.getSession();
        MemberVO loginMember = (MemberVO) session.getAttribute("result");
        String email = loginMember.getEmail();
        // 3️ 새 비밀번호, 전화번호, 주소, 이메일을 DTO에 저장

        // 4️ DAO 객체 생성 후 updateMember(dto) 실행

        // 5️ 반환값(cnt)으로 수정 성공 여부 확인 (if문)

        // 6️ 성공 시 세션 정보 갱신 (result에 새로운 dto 저장)

        // 7️ 이동할 페이지 지정 (ex: "update.jsp" or "update_success.jsp")

        return "";
    }

}